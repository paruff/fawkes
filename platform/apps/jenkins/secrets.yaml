# ============================================================================
# FILE: platform/apps/jenkins/secrets.yaml
# PURPOSE: Kubernetes Secrets for Jenkins authentication and integrations
#          Contains admin credentials and integration secrets.
# NOTE: For production, use External Secrets Operator to pull from Vault.
#       CHANGE ALL VALUES BEFORE DEPLOYING TO ANY ENVIRONMENT.
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: jenkins-admin-credentials
  namespace: fawkes
  labels:
    app: jenkins
    component: ci-cd
    environment: dev
    team: platform
type: Opaque
stringData:
  # ============================================================================
  # Jenkins Admin Credentials
  # ============================================================================
  # 
  # Setup Instructions:
  # 1. Generate a strong password for Jenkins admin user
  # 
  # 2. Update the password value below
  # 
  # 3. Apply to cluster:
  #    kubectl apply -f platform/apps/jenkins/secrets.yaml
  # 
  # 4. Update jenkins-application.yaml to reference this secret:
  #    extraEnv:
  #      - name: ADMIN_PASSWORD
  #        valueFrom:
  #          secretKeyRef:
  #            name: jenkins-admin-credentials
  #            key: password
  # 
  # 5. Sync ArgoCD application:
  #    argocd app sync jenkins
  # 
  # For production deployments, use External Secrets Operator:
  #    See: platform/apps/external-secrets/externalsecret-jenkins-admin.yaml
  # ============================================================================
  username: admin
  password: CHANGE_ME_jenkins_admin_password
---
apiVersion: v1
kind: Secret
metadata:
  name: jenkins-github-credentials
  namespace: fawkes
  labels:
    app: jenkins
    component: ci-cd
    environment: dev
    team: platform
type: Opaque
stringData:
  # ============================================================================
  # GitHub Personal Access Token (PAT) for Jenkins Integration
  # ============================================================================
  # 
  # This token is used for:
  # - Repository access and webhooks
  # - Status checks on pull requests
  # - Shared library access
  # 
  # Setup Instructions:
  # 1. Create PAT at: https://github.com/settings/tokens/new
  #    
  # 2. Token name: Fawkes Jenkins Integration - [Environment]
  # 
  # 3. Select scopes:
  #    Required scopes:
  #    - repo (Full control of private repositories)
  #    - admin:repo_hook (Full control of repository hooks)
  #    
  #    Optional (for full features):
  #    - workflow (Update GitHub Action workflows) - if using GitHub Actions
  # 
  # 4. Generate token and copy it immediately (shown only once)
  # 
  # 5. Update the value below
  # 
  # 6. Apply and configure in Jenkins:
  #    kubectl apply -f platform/apps/jenkins/secrets.yaml
  #    
  # 7. In Jenkins UI:
  #    - Go to Manage Jenkins > Credentials
  #    - Add credentials with ID: github-token
  #    - Use the token value from this secret
  # 
  # Note: For organizations, consider using a GitHub App instead of PAT
  #       for better security and permissions management.
  # ============================================================================
  token: CHANGE_ME_github_personal_access_token
---
apiVersion: v1
kind: Secret
metadata:
  name: jenkins-sonarqube-credentials
  namespace: fawkes
  labels:
    app: jenkins
    component: ci-cd
    environment: dev
    team: platform
type: Opaque
stringData:
  # ============================================================================
  # SonarQube Token for Code Quality Integration
  # ============================================================================
  # 
  # Setup Instructions:
  # 1. In SonarQube, go to: My Account > Security > Generate Tokens
  # 
  # 2. Token name: Jenkins Integration - [Environment]
  # 
  # 3. Generate and copy the token
  # 
  # 4. Update the value below
  # 
  # 5. Apply to cluster:
  #    kubectl apply -f platform/apps/jenkins/secrets.yaml
  # 
  # 6. Configure in Jenkins:
  #    - Go to Manage Jenkins > Credentials
  #    - Add credentials with ID: sonarqube-token
  #    - Use the token value from this secret
  # ============================================================================
  token: CHANGE_ME_sonarqube_token
