# ============================================================================
# FILE: platform/apps/jenkins/credentials-secrets.yaml
# PURPOSE: Jenkins Credentials as Kubernetes Secrets
# ============================================================================
# This file defines Kubernetes Secrets that are injected into Jenkins
# as environment variables for use with JCasC credentials configuration.
#
# SECURITY WARNING:
# - These are EXAMPLE/TEMPLATE values for development/testing only
# - NEVER commit real credentials to Git
# - For production, use External Secrets Operator to sync from:
#   * AWS Secrets Manager
#   * Azure Key Vault
#   * HashiCorp Vault
#   * GCP Secret Manager
#
# BEST PRACTICE for Local Development:
# 1. Copy this file: cp credentials-secrets.yaml credentials-secrets.local.yaml
# 2. Add to .gitignore: echo "*.local.yaml" >> .gitignore
# 3. Edit credentials-secrets.local.yaml with real values
# 4. Apply: kubectl apply -f credentials-secrets.local.yaml
#
# Production Setup:
# See: platform/apps/external-secrets/externalsecret-jenkins-*.yaml
# Use External Secrets Operator to automatically sync from secret manager
# ============================================================================
---
apiVersion: v1
kind: Secret
metadata:
  name: jenkins-credentials
  namespace: fawkes
  labels:
    app: jenkins
    component: ci-cd
    environment: dev
    team: platform
  annotations:
    fawkes.io/managed-by: "manual"
    fawkes.io/description: "Jenkins integration credentials for CI/CD pipelines"
type: Opaque
stringData:
  # ============================================================================
  # GitHub Personal Access Token (PAT)
  # ============================================================================
  # Used for:
  # - Repository checkout in pipelines
  # - Webhook configuration
  # - Status checks on pull requests
  # - Shared library access
  #
  # To create:
  # 1. Go to: https://github.com/settings/tokens/new
  # 2. Token name: "Fawkes Jenkins Integration - Dev"
  # 3. Select scopes:
  #    - repo (Full control of private repositories)
  #    - admin:repo_hook (Full control of repository hooks)
  # 4. Generate and copy token
  # 5. Replace value below
  # 6. Apply: kubectl apply -f platform/apps/jenkins/credentials-secrets.yaml
  GITHUB_TOKEN: "CHANGE_ME_github_personal_access_token"

  # ============================================================================
  # SonarQube Authentication Token
  # ============================================================================
  # Used for:
  # - Code quality analysis
  # - Security vulnerability scanning
  # - Quality gate enforcement
  #
  # To create:
  # 1. Login to SonarQube
  # 2. Go to: My Account > Security > Generate Tokens
  # 3. Token name: "Jenkins Integration - Dev"
  # 4. Generate and copy token
  # 5. Replace value below
  SONARQUBE_TOKEN: "CHANGE_ME_sonarqube_token"

  # ============================================================================
  # Docker Registry Credentials (Harbor)
  # ============================================================================
  # Used for:
  # - Pushing container images
  # - Pulling base images (if private)
  #
  # To create:
  # 1. Login to Harbor UI
  # 2. Create robot account or use admin credentials
  # 3. Copy username and password
  # 4. Replace values below
  DOCKER_REGISTRY_USERNAME: "CHANGE_ME_docker_username"
  DOCKER_REGISTRY_PASSWORD: "CHANGE_ME_docker_password"

  # ============================================================================
  # Optional: GitHub App Credentials
  # ============================================================================
  # Alternative to PAT for better security and higher rate limits
  # Uncomment and configure when GitHub App is set up
  # GITHUB_APP_ID: "123456"
  # GITHUB_APP_PRIVATE_KEY: |
  #   -----BEGIN RSA PRIVATE KEY-----
  #   YOUR_PRIVATE_KEY_HERE
  #   -----END RSA PRIVATE KEY-----

---
# ============================================================================
# Additional Secrets for Other Integrations
# ============================================================================
# Add more secrets as needed for your specific integrations
# Examples:
# - Artifactory credentials
# - Slack webhook URLs
# - AWS credentials for deployment
# - Database connection strings for integration tests
# ============================================================================
---
# ============================================================================
# PRODUCTION ALTERNATIVE: External Secrets Operator
# ============================================================================
# For production environments, use External Secrets Operator instead of
# manual secret management. Example:
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: jenkins-credentials
#   namespace: fawkes
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     kind: ClusterSecretStore
#     name: aws-secrets-manager  # or azure-keyvault, vault-backend
#   target:
#     name: jenkins-credentials
#     creationPolicy: Owner
#   data:
#     - secretKey: GITHUB_TOKEN
#       remoteRef:
#         key: jenkins/github/token
#     - secretKey: SONARQUBE_TOKEN
#       remoteRef:
#         key: jenkins/sonarqube/token
#     - secretKey: DOCKER_REGISTRY_USERNAME
#       remoteRef:
#         key: jenkins/docker/username
#     - secretKey: DOCKER_REGISTRY_PASSWORD
#       remoteRef:
#         key: jenkins/docker/password
#
# Benefits:
# - Automatic secret rotation
# - Centralized secret management
# - Audit logging
# - No secrets in Git
# - Compliance-friendly
#
# See: platform/apps/external-secrets/externalsecret-jenkins-credentials.yaml
# ============================================================================
