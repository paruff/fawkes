# Basic values.yaml you can use with `helm upgrade --install -f values.yaml jenkins charts.jenkins.io/jenkins`
controller:
  # Use explicit repository + tag if your chart supports them; otherwise use single image
  image:
    repository: "jenkins/jenkins"
    # Choose a Jenkins LTS new enough for your plugins. Example:
    tag: "2.528.1-lts-jdk17"   # <- use JDK17 LTS for plugin compatibility
    # If chart expects controller.image.* (not nested), set both:
  # If the chart still reads controller.image and controller.tag, keep compatibility:
  # image: "jenkins/jenkins"
  # tag: "2.462.4-jdk11"

  # admin credentials (recommend creating a k8s Secret and not committing plaintext)
  admin:
    username: admin
    password: changeme

  # controller options and service
  JENKINS_OPTS: "--argumentsRealm.passwd.admin=changeme -Djenkins.install.runSetupWizard=false"
  serviceType: ClusterIP

  # ensure controller doesn't run builds â€” use agents
  executors: 0

  # mount JCasC from ConfigMap and inject secret env var
  JCasC:
    enabled: true
    defaultConfig: false
    configScripts: {}
  extraEnv:
    - name: ADMIN_PASSWORD
      valueFrom:
        secretKeyRef:
          name: jenkins-admin
          key: ADMIN_PASSWORD

# install plugins required by JCasC (chart-specific key; adjust to your chart)
installPlugins:
  - kubernetes
  - workflow-aggregator
  - credentials-binding
  - git

persistence:
  # For local development clusters that may not have a dynamic provisioner or a
  # `standard` StorageClass, disable persistence to avoid PVC Pending/init failures.
  # In production, enable persistence and set the correct storageClass.
  enabled: false
  size: 8Gi
  storageClass: standard   # change to your cluster's StorageClass

serviceAccount:
  create: true

rbac:
  create: true

# JCasC / init groovy locations (mount ConfigMap/Secret if you plan to supply config)
# Example: put your configuration-as-code in platform/apps/jenkins/jcasc.yaml and mount it via extraConfig
master:
  admin:
    username: admin
  # If your chart supports mounting JCasC directly, configure it here (chart-specific)
  # extraConfig: |
  #   jenkins:
  #     systemMessage: "Fawkes Jenkins (MVP)"

# optional ingress example (enable and configure if you have an ingress controller)
ingress:
  enabled: false
  annotations: {}
  hosts:
    - host: jenkins.example.com
      paths: ["/"]