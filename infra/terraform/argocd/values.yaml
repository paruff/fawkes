installCRDs: true

server:
  # Enable HTTP UI (no TLS) for local development convenience
  insecure: true
  extraArgs:
    - --insecure
  service:
    # Avoid localhost port conflicts; expose via Ingress instead
    type: ClusterIP
  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - argocd.127.0.0.1.nip.io
    paths:
      - /
    https: false

# ArgoCD configuration
configs:
  cm:
    application.instanceLabelKey: "argocd.argoproj.io/instance"
  # Admin credentials managed via External Secrets
  # See: platform/apps/external-secrets/externalsecret-argocd-admin.yaml
  # The ExternalSecret creates 'argocd-initial-admin-secret' with the admin password
  secret:
    # Don't auto-generate the admin secret - use ExternalSecret instead
    createSecret: false
