# Example Environment Configuration for AI Code Review Service
# Copy this file and customize for your environment
# DO NOT commit actual secrets to git

##########################
# GitHub Configuration
##########################

# Generate webhook secret: openssl rand -hex 20
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# GitHub Personal Access Token with repo and PR permissions
# Generate at: https://github.com/settings/tokens
# Required scopes: repo, write:discussion
GITHUB_TOKEN=ghp_your_token_here

##########################
# LLM Configuration
##########################

# OpenAI API Key (for GPT-4)
# Get from: https://platform.openai.com/api-keys
LLM_API_KEY=sk-your_openai_key_here

# LLM API URL (default: OpenAI)
# For Anthropic Claude, use: https://api.anthropic.com/v1/messages
LLM_API_URL=https://api.openai.com/v1/chat/completions

# Model to use
# Options: gpt-4, gpt-4-turbo, gpt-3.5-turbo (OpenAI)
#          claude-3-opus, claude-3-sonnet (Anthropic)
LLM_MODEL=gpt-4

##########################
# RAG Service
##########################

# RAG service URL for context retrieval
# Leave empty to disable RAG integration
RAG_SERVICE_URL=http://rag-service.fawkes.svc:8000

##########################
# SonarQube Integration
##########################

# SonarQube server URL
# Leave empty to disable SonarQube integration
SONARQUBE_URL=http://sonarqube.fawkes.svc:9000

# SonarQube API token
# Generate at: SonarQube → My Account → Security → Generate Token
SONARQUBE_TOKEN=your_sonarqube_token_here

##########################
# Quality Settings
##########################

# False positive threshold (0.0-1.0)
# Higher value = more aggressive filtering, fewer but higher confidence comments
# Lower value = more comments but potentially more false positives
# Recommended: 0.8
FALSE_POSITIVE_THRESHOLD=0.8

##########################
# Service Configuration
##########################

# Service port
PORT=8000

# Log level
# Options: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

##########################
# Example Kubernetes Secret
##########################
# To create Kubernetes secret from this file:
#
# kubectl create secret generic ai-code-review-secrets \
#   --from-literal=GITHUB_WEBHOOK_SECRET=${GITHUB_WEBHOOK_SECRET} \
#   --from-literal=GITHUB_TOKEN=${GITHUB_TOKEN} \
#   --from-literal=LLM_API_KEY=${LLM_API_KEY} \
#   --from-literal=SONARQUBE_TOKEN=${SONARQUBE_TOKEN} \
#   -n fawkes

##########################
# Testing Configuration
##########################
# For local testing, export these variables:
#
# export GITHUB_WEBHOOK_SECRET=test-secret
# export GITHUB_TOKEN=ghp_test_token
# export LLM_API_KEY=sk-test-key
# export RAG_SERVICE_URL=http://localhost:8001
# export SONARQUBE_URL=http://localhost:9000
# export SONARQUBE_TOKEN=test-token
# 
# Then run:
# uvicorn app.main:app --reload
