##########################
# General Environment Settings
##########################
# Environment name (e.g., dev, staging, prod)
ENVIRONMENT=dev

# Namespace for Kubernetes resources
NAMESPACE=fawkes

# Region for cloud resources
REGION=us-east-1

# Cloud provider (e.g., aws, azure, gcp)
CLOUD_PROVIDER=aws

##########################
# AWS-Specific Settings
##########################
# AWS Access Key and Secret Key
AWS_ACCESS_KEY_ID=<your-aws-access-key-id>
AWS_SECRET_ACCESS_KEY=<your-aws-secret-access-key>

# AWS S3 bucket for state storage
AWS_S3_BUCKET=fawkes-terraform-state

# AWS DynamoDB table for Terraform state locking
AWS_DYNAMODB_TABLE=fawkes-terraform-lock

##########################
# Azure-Specific Settings
##########################
# Azure Subscription ID
AZURE_SUBSCRIPTION_ID=<your-azure-subscription-id>

# Azure Resource Group
AZURE_RESOURCE_GROUP=fawkes-rg

# Azure Storage Account for Terraform state
AZURE_STORAGE_ACCOUNT=fawkesstate

# Azure Container for Terraform state
AZURE_STORAGE_CONTAINER=fawkes-terraform

##########################
# Kubernetes Settings
##########################
# Kubernetes context for kubectl
KUBECONFIG=~/.kube/config

# Helm chart repository URL
HELM_REPO_URL=https://charts.example.com

##########################
# Jenkins Settings
##########################
# Jenkins admin credentials
JENKINS_ADMIN_USER=admin
JENKINS_ADMIN_PASSWORD=<your-jenkins-admin-password>

# Jenkins URL for Golden Path pipelines
JENKINS_URL=http://jenkins.127.0.0.1.nip.io

# Docker registry for container images
DOCKER_REGISTRY=harbor.fawkes.local

# DORA Metrics service URL
DORA_METRICS_URL=http://dora-metrics.fawkes.svc:8080

# ArgoCD server for GitOps deployments
ARGOCD_SERVER=argocd-server.argocd.svc

##########################
# SonarQube Settings
##########################
# SonarQube admin credentials
SONARQUBE_ADMIN_USER=admin
SONARQUBE_ADMIN_PASSWORD=admin

# SonarQube server URL (internal Kubernetes service)
SONARQUBE_URL=http://sonarqube.fawkes.svc:9000

# SonarQube external URL (for developer access via ingress)
SONARQUBE_EXTERNAL_URL=http://sonarqube.127.0.0.1.nip.io

# SonarQube scanner token for Jenkins CI/CD integration
# Generate from: SonarQube > User > My Account > Security > Tokens
SONARQUBE_TOKEN=<your-sonarqube-scanner-token>

# Default Quality Gate settings
# 0 = block on any new issues, higher values allow threshold
SONARQUBE_QUALITY_GATE_BUGS=0
SONARQUBE_QUALITY_GATE_VULNERABILITIES=0
SONARQUBE_QUALITY_GATE_CODE_COVERAGE=80
SONARQUBE_QUALITY_GATE_DUPLICATED_LINES=3

# SonarQube PostgreSQL connection (managed by CloudNativePG)
SONARQUBE_JDBC_URL=jdbc:postgresql://db-sonarqube-dev-rw.fawkes.svc.cluster.local:5432/sonarqube
SONARQUBE_JDBC_USERNAME=sonarqube_user
# Password stored in Kubernetes Secret: db-sonarqube-credentials

##########################
# DevLake Settings
##########################
# Encryption secret for DevLake
DEVLAKE_ENCRYPTION_SECRET=<your-encryption-secret>

##########################
# Test Settings
##########################
# Test environment variables
TEST_ENVIRONMENT=local
TEST_PARALLELISM=4

##########################
# Logging and Debugging
##########################
# Logging level (e.g., debug, info, warn, error)
LOGGING_LEVEL=info

# Enable verbose output for scripts
VERBOSE=false

##########################
# Ingress and Networking Settings
##########################
# Ingress domain for external access (wildcard DNS *.fawkes.idp -> LB IP)
INGRESS_DOMAIN=fawkes.idp

# TLS certificate issuer (letsencrypt-staging for dev, letsencrypt-prod for production)
TLS_CLUSTER_ISSUER=letsencrypt-prod

# Let's Encrypt email for certificate expiration notifications
LETSENCRYPT_EMAIL=platform-admin@fawkes.idp

# DNS provider for ExternalDNS (aws, azure, google, cloudflare)
DNS_PROVIDER=aws

# ExternalDNS policy (upsert-only or sync)
EXTERNALDNS_POLICY=upsert-only

##########################
# Mattermost Settings
##########################
# Mattermost webhook URL for notifications
MATTERMOST_WEBHOOK_URL=http://mattermost.fawkes.svc:8065/hooks/jenkins

# Default notification channel
MATTERMOST_CHANNEL=ci-builds

##########################
# Focalboard Settings (Project Management)
##########################
# Focalboard server URL (internal Kubernetes service)
FOCALBOARD_URL=http://focalboard.fawkes.svc:8000

# Focalboard external URL (for developer access via ingress)
FOCALBOARD_EXTERNAL_URL=http://pm.127.0.0.1.nip.io

# Focalboard metrics port for Prometheus scraping
FOCALBOARD_METRICS_PORT=9092

##########################
# PostgreSQL Settings
##########################
# PostgreSQL database host (primary/read-write)
POSTGRESQL_HOST=db-focalboard-dev-rw.fawkes.svc.cluster.local

# PostgreSQL database host (replicas/read-only)
POSTGRESQL_RO_HOST=db-focalboard-dev-ro.fawkes.svc.cluster.local

# PostgreSQL port
POSTGRESQL_PORT=5432

# PostgreSQL database name
POSTGRESQL_DATABASE=focalboard

# PostgreSQL user (stored in Kubernetes Secret)
POSTGRESQL_USER=focalboard_user

# PostgreSQL password (stored in Kubernetes Secret - do not set here in production)
POSTGRESQL_PASSWORD=<stored-in-k8s-secret>

# PostgreSQL SSL mode (require for production)
POSTGRESQL_SSLMODE=require

# PostgreSQL backup S3 bucket (for production backups)
POSTGRESQL_BACKUP_BUCKET=fawkes-db-backups

##########################
# Prometheus & Monitoring Settings
##########################
# Prometheus server URL (internal Kubernetes service)
PROMETHEUS_URL=http://prometheus-prometheus.monitoring.svc.cluster.local:9090

# Prometheus external URL (for developer access via ingress)
PROMETHEUS_EXTERNAL_URL=http://prometheus.127.0.0.1.nip.io

# Grafana admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=fawkesidp

# Grafana external URL (for developer access via ingress)
GRAFANA_EXTERNAL_URL=http://grafana.127.0.0.1.nip.io

# Alertmanager external URL (for developer access via ingress)
ALERTMANAGER_EXTERNAL_URL=http://alertmanager.127.0.0.1.nip.io

# Slack webhook URL for alert notifications (stored in Kubernetes Secret)
# Create with: kubectl create secret generic alertmanager-slack-webhook --from-literal=slack-webhook-url=<url>
ALERTMANAGER_SLACK_WEBHOOK_URL=<your-slack-webhook-url>

# Slack channels for alert notifications
ALERTMANAGER_SLACK_CHANNEL_ALERTS=#platform-alerts
ALERTMANAGER_SLACK_CHANNEL_ONCALL=#platform-oncall

# Metrics retention period (days)
PROMETHEUS_RETENTION_DAYS=15

# OpenTelemetry Collector endpoint for applications
OTEL_COLLECTOR_ENDPOINT=http://otel-collector.monitoring.svc.cluster.local:4317

# OpenTelemetry Collector HTTP endpoint
OTEL_COLLECTOR_HTTP_ENDPOINT=http://otel-collector.monitoring.svc.cluster.local:4318

##########################
# OpenSearch Logging Settings
##########################
# OpenSearch cluster endpoint for centralized logging
OPENSEARCH_URL=http://opensearch-cluster-master.logging.svc.cluster.local:9200

# OpenSearch Dashboards external URL (for log visualization)
OPENSEARCH_DASHBOARDS_URL=http://logs.127.0.0.1.nip.io

# OpenSearch log index prefix
OPENSEARCH_LOG_INDEX_PREFIX=otel-logs

# Log retention period (days)
OPENSEARCH_LOG_RETENTION_DAYS=30

# Cluster identifier for log labeling
LOG_CLUSTER_NAME=fawkes-dev

# Environment label for logs
LOG_ENVIRONMENT=development

# Cluster identifier for metrics labeling
METRICS_CLUSTER_NAME=fawkes-dev

# Environment label for metrics
METRICS_ENVIRONMENT=development

# SLO thresholds (used for alerting)
SLO_LATENCY_P99_THRESHOLD_MS=500
SLO_LATENCY_P95_THRESHOLD_MS=300
SLO_ERROR_RATE_CRITICAL_PERCENT=5
SLO_ERROR_RATE_WARNING_PERCENT=1
SLO_AVAILABILITY_TARGET_PERCENT=99.9

##########################
# Distributed Tracing Settings (Tempo)
##########################
# Grafana Tempo endpoint for distributed tracing backend
TEMPO_URL=http://tempo.monitoring.svc.cluster.local:3200

# Tempo OTLP gRPC endpoint for trace ingestion
TEMPO_OTLP_GRPC_ENDPOINT=tempo.monitoring.svc.cluster.local:4317

# Tempo OTLP HTTP endpoint for trace ingestion
TEMPO_OTLP_HTTP_ENDPOINT=http://tempo.monitoring.svc.cluster.local:4318

# Trace retention period (hours) - default 7 days
TEMPO_RETENTION_HOURS=168

# Trace sampling rate (percentage) - 100 for dev, 10 for production
TRACE_SAMPLING_PERCENTAGE=100

# Cluster identifier for trace labeling
TRACE_CLUSTER_NAME=fawkes-dev

# Environment label for traces
TRACE_ENVIRONMENT=development

# Enable W3C Trace Context propagation headers
TRACE_PROPAGATION_FORMAT=w3c

##########################
# HashiCorp Vault Settings (Secrets Management)
##########################
# Vault server URL (internal Kubernetes service)
VAULT_ADDR=http://vault.vault.svc:8200

# Vault external URL (for developer access via ingress)
VAULT_EXTERNAL_URL=http://vault.127.0.0.1.nip.io

# Vault namespace (leave empty for OSS Vault)
VAULT_NAMESPACE=

# Vault authentication method (kubernetes, approle, token)
VAULT_AUTH_METHOD=kubernetes

# Kubernetes Auth configuration
VAULT_K8S_ROLE=jenkins
VAULT_K8S_MOUNT_PATH=kubernetes

# AppRole Auth configuration (if using AppRole instead of Kubernetes)
# Store credentials in Jenkins credentials store, not here
VAULT_APPROLE_ROLE_ID=<stored-in-jenkins-credentials>
VAULT_APPROLE_SECRET_ID=<stored-in-jenkins-credentials>

# Vault secret path prefix for Fawkes platform
VAULT_SECRET_PATH_PREFIX=secret/data/fawkes

# Enable Vault Agent sidecar injection (true/false)
VAULT_AGENT_INJECT=true

# Vault CSI driver secret provider class for volume mounts
VAULT_CSI_PROVIDER_CLASS=vault-database-creds

# Vault unseal configuration (auto-unseal with cloud KMS recommended for production)
# AWS KMS key for auto-unseal
VAULT_AWSKMS_SEAL_KEY_ID=<your-kms-key-id>

# Azure Key Vault for auto-unseal
VAULT_AZUREKEYVAULT_VAULT_NAME=<your-keyvault-name>
VAULT_AZUREKEYVAULT_KEY_NAME=vault-unseal-key

# GCP Cloud KMS for auto-unseal
VAULT_GCPCKMS_SEAL_KEY_RING=vault-keyring
VAULT_GCPCKMS_SEAL_CRYPTO_KEY=vault-unseal-key

##########################
# Backstage Developer Portal Settings
##########################
# Backstage server URL (internal Kubernetes service)
BACKSTAGE_URL=http://backstage.fawkes.svc:7007

# Backstage external URL (for developer access via ingress)
BACKSTAGE_EXTERNAL_URL=https://backstage.fawkes.idp

# Backstage PostgreSQL connection (managed by CloudNativePG)
BACKSTAGE_POSTGRES_HOST=db-backstage-dev-rw.fawkes.svc.cluster.local
BACKSTAGE_POSTGRES_PORT=5432
BACKSTAGE_POSTGRES_DATABASE=backstage_db
BACKSTAGE_POSTGRES_USER=backstage_user
# Password stored in Kubernetes Secret: db-backstage-credentials

# GitHub OAuth App credentials for Backstage authentication
# Create at: https://github.com/settings/applications/new
# Homepage URL: https://backstage.fawkes.idp
# Authorization callback URL: https://backstage.fawkes.idp/api/auth/github/handler/frame
BACKSTAGE_AUTH_GITHUB_CLIENT_ID=<your-github-oauth-client-id>
BACKSTAGE_AUTH_GITHUB_CLIENT_SECRET=<stored-in-k8s-secret>

# GitHub Personal Access Token for repository discovery
# Create at: https://github.com/settings/tokens
# Required scopes: repo, read:org, read:user
BACKSTAGE_GITHUB_TOKEN=<stored-in-k8s-secret>

# ArgoCD integration credentials for deployment status
BACKSTAGE_ARGOCD_URL=http://argocd-server.argocd.svc:80
BACKSTAGE_ARGOCD_USERNAME=admin
BACKSTAGE_ARGOCD_PASSWORD=<stored-in-k8s-secret>

# Jenkins integration credentials for CI/CD pipeline status
BACKSTAGE_JENKINS_URL=http://jenkins.fawkes.svc:8080
BACKSTAGE_JENKINS_USERNAME=admin
BACKSTAGE_JENKINS_API_KEY=<stored-in-k8s-secret>

##########################
# Miscellaneous
##########################
# GitHub repository URL
GITHUB_REPO_URL=https://github.com/paruff/fawkes.git

# Default timeout for operations (in seconds)
DEFAULT_TIMEOUT=300
